<div class="container" style="display: flex; justify-content: center; align-items: center; min-height: 100vh;">
  <%= form_with(model: medicine, style: "width: 100%;", data: { turbo: false }) do |form| %>
    <div class="mui-panel" style="max-width: 800px; width: 90%; padding: 40px; box-shadow: 0px 8px 20px rgba(0,0,0,0.15); border-radius: 12px; background-color: white; margin: 0 auto;">
      <div class="mui-row" style="text-align: center;">
        <div class="mui-col-md-12">
          <h2 class="mb-4" style="color: #3f51b5; font-weight: 500; font-size: 28px;">Add New Medicine</h2>
          
          <% if medicine.errors.any? %>
            <div class="mui-panel mui--bg-danger mb-4" style="padding: 15px; border-radius: 6px; text-align: left;">
              <h5 style="color: white; margin-top: 0;"><%= pluralize(medicine.errors.count, "error") %> prohibited this medicine from being saved:</h5>
              <ul class="mb-0" style="color: white; padding-left: 20px;">
                <% medicine.errors.each do |error| %>
                  <li><%= error.full_message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <div style="max-width: 600px; margin: 0 auto;">
            <div class="mui-textfield mui-textfield--float-label mb-4" style="text-align: left;">
              <%= form.text_field :name, required: true, style: "font-size: 16px;" %>
              <%= form.label :name, "Medicine Name", style: "font-size: 16px;" %>
            </div>

            <div class="mui-row">
              <div class="mui-col-md-6">
                <div class="mui-textfield mb-4" style="text-align: left;">
                  <%= form.label :exp_date, "Expiration Date", class: "mui--text-dark", style: "font-size: 16px;" %>
                  <%= form.date_field :exp_date, class: "mui--text-dark", style: "width: 100%; height: 36px; padding: 0 5px; font-size: 16px;" %>
                </div>
              </div>
              <div class="mui-col-md-6">
                <div class="mui-textfield mui-textfield--float-label mb-4" style="text-align: left;">
                  <%= form.text_field :form, style: "font-size: 16px;" %>
                  <%= form.label :form, "Medicine Form", style: "font-size: 16px;" %>
                  <small class="mui--text-caption" style="font-size: 14px;">Tablet, Syrup, Capsule, etc.</small>
                </div>
              </div>
            </div>

            <div class="mui-row">
              <div class="mui-col-md-6">
                <div class="mui-textfield mui-textfield--float-label mb-4" style="text-align: left;">
                  <%= form.text_field :manufacturer, style: "font-size: 16px;" %>
                  <%= form.label :manufacturer, "Manufacturer", style: "font-size: 16px;" %>
                </div>
              </div>
              <div class="mui-col-md-6">
                <div class="mui-textfield mui-textfield--float-label mb-4" style="text-align: left;">
                  <%= form.text_field :price, type: "number", step: "0.01", min: "0", style: "font-size: 16px;" %>
                  <%= form.label :price, "Price ($)", style: "font-size: 16px;" %>
                </div>
              </div>
            </div>

            <div class="mui-select mb-4" style="text-align: left;">
              <%= form.label :category_id, "Category", class: "mui-label mui--text-dark", style: "font-size: 16px;" %>
              <%= form.collection_select :category_id, Category.all, :id, :name, 
                  { prompt: "Select Category" }, 
                  { class: "mui--text-dark", style: "width: 100%; height: 36px; padding: 0 10px; font-size: 16px;" } %>
            </div>

            <div class="mui-row">
              <div class="mui-col-md-6">
                <div class="mui-textfield mui-textfield--float-label mb-4" style="text-align: left;">
                  <%= form.text_field :batch_no, style: "font-size: 16px;" %>
                  <%= form.label :batch_no, "Batch Number", style: "font-size: 16px;" %>
                </div>
              </div>
              <div class="mui-col-md-6">
                <div class="mui-textfield mui-textfield--float-label mb-4" style="text-align: left;">
                  <%= form.number_field :quantity, min: 0, style: "font-size: 16px;" %>
                  <%= form.label :quantity, "Quantity", style: "font-size: 16px;" %>
                </div>
              </div>
            </div>

            <div class="mui-checkbox mb-4" style="padding: 10px 0; text-align: center;">
              <%= form.check_box :prescribed, id: "prescription-checkbox", style: "margin-right: 10px; transform: scale(1.2);" %>
              <%= form.label :prescribed, "Requires Prescription", for: "prescription-checkbox", style: "display: inline-block; font-size: 16px;" %>
            </div>

            <div class="text-center mt-5" style="margin-bottom: 20px">
              <button type="submit" class="mui-btn mui-btn--raised mui-btn--primary" style="width: 70%; padding: 25px;margin-bottom: 20px; text-transform: uppercase; font-weight: 500; font-size: 16px; letter-spacing: 1px;">
                <i class="mui-icon mui--text-white" style="vertical-align: middle; margin-right: 8px; font-size: 20px;"></i>
                Save Medicine
              </button>
            </div>
            
            <div class="text-center mt-3">
              <%= link_to "Cancel", medicines_path, class: "mui-btn mui-btn--flat", style: "color: #777; font-size: 16px;" %>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>

<!-- Add Material Icons -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Add custom responsive styles -->
<style>
  body {
    margin: 0;
    padding: 0;
    background-color: #f5f5f5;
  }
  
  @media (max-width: 768px) {
    .mui-panel {
      padding: 25px !important;
      margin: 15px auto !important;
      width: 95% !important;
      max-width: 95% !important;
    }
    
    .mui-btn {
      width: 100% !important;
      padding: 15px !important;
    }
    
    h2 {
      font-size: 24px !important;
    }
  }
  
  .mui-textfield > input:focus,
  .mui-select > select:focus {
    border-color: #3f51b5 !important;
  }
  
  .mui-btn--primary {
    background-color: #3f51b5 !important;
    transition: background-color 0.3s ease;
  }
  
  .mui-btn--primary:hover {
    background-color: #303f9f !important;
  }
  
  .mui-checkbox {
    transition: all 0.3s ease;
  }
  
  .mui-textfield > input,
  .mui-select > select {
    border-bottom: 1px solid #bdbdbd;
  }
</style>